<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="partials/head :: head-section "></head>
<nav th:replace="partials/navbar :: navbar"></nav>
<body>
<div class="row">
    <div class="col s12">
        <ul class="tabs">
            <li class="tab col s3"><a href="#info">Patient Information</a></li>
            <li class="tab col s3>"><a href="#message">Messages</a></li>
            <li class="tab col s3>"><a href="#prescriptions">Your Prescriptions</a></li>
        </ul>
    </div>
    <div id="info" class="col s12">
        <ul class="collection">
            <li class="collection-item avatar">
                <span class="title">Name</span>
                <i class="material-icons circle">folder</i>
                <p th:text="${patient.username}"></p>
                <a href="#" class="secondary-content"><i class="material-icons">grade</i></a>
            </li>
            <li class="collection-item avatar">
                <i class="material-icons circle">folder</i>
                <span class="title">Address</span>
                <p th:text="${patientInfo.address}">
                <a href="#" class="secondary-content"><i class="material-icons">grade</i></a>
            </li>
            <li class="collection-item avatar">
                <i class="material-icons circle green">insert_chart</i>
                <span class="title">Date of Birth</span>
                <p th:text="${patientInfo.dob}"></p>
                <a href="#" class="secondary-content"><i class="material-icons">grade</i></a>
            </li>
        </ul>
    </div>

    <div id="message" class="col s12"> Message your Pharmacist !
        <hr>
        <form th:action="@{|/patientProfile/${patient.id}|}" th:method="POST">
            <div class="row">
                <div class="row">
                    <div class="input-field col s12">
                        <span class="material-icons">app_registration</span>
                        <input placeholder="Subject" value="" id="subject"
                               type="text" class="required"/>
                        <label for="subject">Subject</label>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="row">
                    <div class="input-field col s12">
                        <textarea id="msg" class="materialize-textarea"></textarea>
                        <label for="msg" class='active'></label>
                    </div>
                </div>
            </div>
            <div class="card-action right-align">
                <input type="reset" id="reset" class="btn-flat grey-text waves-effect">
                <input type="submit" class="btn orange  waves-effect waves-light" value="Submit">
            </div>
        </form>
    </div>

    <div id="tab2" class="col s12">
        New messages will go here
    </div>
    <div id="tab3" class="col s12">
        <div th:each="prescription : ${patient.prescriptions}">
            <table class="striped">
                <tr>
                    <th>Name</th>
                    <th>Created at</th>
                    <th>Verified</th>
                    <th>Doctor</th>
                </tr>
                <tr>
                    <td th:text="${prescription.drug.drug_name}">"</td>
                    <td th:text="${prescription.created_at}">"</td>
                    <td th:text="${prescription.is_verified} ? 'Verified' : 'Not Verified'"></td>
                    <td th:text="${prescription.prescriber_id}"></td>
                </tr>
            </table>

        </div>
    </div>
</div>

<div th:replace="partials/scripts :: scripts">




</div>

</body>
</html>
